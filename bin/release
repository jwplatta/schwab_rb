#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"

puts "Building and releasing gem..."

puts "Running tests..."
system("bundle exec rake spec") or abort("Tests failed!")

puts "Running RuboCop..."
if !system("bundle exec rubocop")
  puts "⚠️  RuboCop has some issues, but continuing with release..."
end

puts "Building and releasing gem to RubyGems..."
system("bundle exec rake release") or abort("Release failed!")

puts "Successfully released gem!"
